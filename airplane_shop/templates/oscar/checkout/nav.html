{% load i18n %}
{% load static %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link href="airplane_shop/static_src/scss/breadcrumb.css" rel="stylesheet">
<style>
.breadcrumb-chevron {
  --bs-breadcrumb-divider: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%236c757d'%3E%3Cpath fill-rule='evenodd' d='M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z'/%3E%3C/svg%3E");
  gap: .5rem;
}
.breadcrumb-chevron .breadcrumb-item {
  display: flex;
  gap: inherit;
  align-items: center;
  padding-left: 0;
  line-height: 1;
}
.breadcrumb-chevron .breadcrumb-item::before {
  gap: inherit;
  float: none;
  width: 1rem;
  height: 1rem;
}

.breadcrumb-custom .breadcrumb-item {
  position: relative;
  flex-grow: 1;
  padding: .75rem 3rem;
}
.breadcrumb-custom .breadcrumb-item::before {
  display: none;
}
.breadcrumb-custom .breadcrumb-item::after {
  position: absolute;
  top: 50%;
  right: -25px;
  z-index: 1;
  display: inline-block;
  width: 50px;
  height: 50px;
  margin-top: -25px;
  content: "";
  background-color: var(--bs-tertiary-bg);
  border-top-right-radius: .5rem;
  box-shadow: 1px -1px var(--bs-border-color);
  transform: scale(.707) rotate(45deg);
}
.breadcrumb-custom .breadcrumb-item:first-child {
  padding-left: 1.5rem;
}
.breadcrumb-custom .breadcrumb-item:last-child {
  padding-right: 1.5rem;
}
.breadcrumb-custom .breadcrumb-item:last-child::after {
  display: none;
}

.breadcrumb-item.visited {
    text-color: white;
}
/*
.visited-step {
    color: white;
    margin-top: 1rem;
}
*/
    -->
</style>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb breadcrumb-custom overflow-hidden text-center bg-body-tertiary border rounded-3">
      <li class="breadcrumb-item {% if step == 1 %}active bg-primary text-light {% else %}{% if step == 2 %}previous {% else %}{% if step > 1 %}visited {% else %}disabled {% endif %}{% endif %}{% endif %} ">
        {% if step == 2 or step == 3 or step == 4 %}
          <a class="visited-step fw-semibold text-decoration-none" href="{% url 'checkout:shipping-address' %}">
            <span>
                {% trans "1. Shipping address" %}
            </span>
        </a>
          {% else %}
            <span class="navbar-text" style="margin-bottom: auto;">
                {%  trans "1. Shipping address" %}
            </span>
            {% endif %}

        <li class="breadcrumb-item step2 {% if step == 2 %}active bg-primary text-light {% else %}{% if step == 3 %}previous{% else %}{% if step > 2 %}visited{% else %}disabled{% endif %}{% endif %}{% endif %} ">
            {% if step == 3 or step == 4 %}
                <a href="{% url 'checkout:shipping-method' %}" class="visited-step fw-semibold text-decoration-none">
                    <span>
                        {% trans "2. Shipping method" %}
                    </span>
                </a>
            {% else %}
                <span class="navbar-text">
                    {%  trans "2. Shipping method" %}
                </span>
            {% endif %}
        </li>


        <li class="breadcrumb-item step3 {% if step == 3 %}active bg-primary text-light{% else %}{% if step == 4 %}previous {% else %}{% if step > 3 %}visited{% else %}disabled{% endif %}{% endif %}{% endif %} ">
            {% if step == 4 %}
                <a href="{% url 'checkout:payment-details' %}" class="visited-step fw-semibold text-decoration-none">
                    <span>
                        {% trans "3. Payment" %}
                    </span>
                </a>
            {% else %}
                <span class="navbar-text">
                    {%  trans "3. Payment" %}
                </span>
            {% endif %}
        </li>


        <li class="breadcrumb-item step4 {% if step == 4 %}active bg-primary text-light{% else %}disabled{% endif %} ">
            <span class="navbar-text">
                {% trans "4. Preview" %}
            </span>
        </li>

        <li class="breadcrumb-item step5 {% if step == 5 %}active bg-primary text-light{% else %}disabled{% endif %} ">
            <span class="navbar-text">
                {% trans "5. Confirmation" %}
            </span>
        </li>
    </ol>
  </nav>